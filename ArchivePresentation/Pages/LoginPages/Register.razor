@page "/register"
@inherits Authentication

<link href="css/auth.css" rel="stylesheet" />
@if (Responce == "")
{
    <div class="main-Signup">
        <section class="signup">
            <div class="container">
                <div class="signup-content">
                    <EditForm action="" Model="@UserForRegister" id="signup-form" method="post"
                              OnSubmit="HandleSubmitRegister">
                        <DataAnnotationsValidator />
                        <ValidationSummary />
                        <h2 class="form-title">Create Account</h2>

                        <div class="form-group">
                            <input type="text"
                                   @bind-value="UserForRegister.Username"
                                   class="form-input"
                                   id="Name"
                                   name="Name"
                                   placeholder="Username" />
                            <ValidationMessage For="@(() => UserForRegister.Username)" />
                        </div>

                        <div class="form-group">
                            <input type="email"
                                   @bind-value="UserForRegister.Email"
                                   class="form-input"
                                   id="Email" name="Email"
                                   placeholder="Email" />
                            <ValidationMessage For="@(() => UserForRegister.Email)" />
                        </div>

                        <div class="form-group">
                            <input type="password"
                                   @bind-value="UserForRegister.Password"
                                   class="form-input"
                                   id="Password"
                                   name="Password"
                                   placeholder="Password" />
                            <ValidationMessage For="@(() => UserForRegister.Password)" />
                        </div>

                        <div class="form-group">
                            <input type="password"
                                   @bind-value="UserForRegister.ConfirmPassword"
                                   class="form-input"
                                   id="Re_password"
                                   name="Re_password"
                                   placeholder="Repeat your password" />
                            <ValidationMessage For="@(() => UserForRegister.ConfirmPassword)" />
                        </div>

                        <div class="form-group">
                            <input type="submit" class="form-submit" name="submit" id="submit" value="Sign-up" />
                        </div>
                    </EditForm>

                    <p class="loginhere">
                        Have already an account ?  <a href="login" class="loginhere-link">Login here</a>
                    </p>

                </div>
            </div>
        </section>
    </div>
}
else
{
    <div class="signup-content">
        <h3>@Responce</h3>
        <p class="loginhere">
           @Responce ?  <a href="login" class="loginhere-link">Login here</a>
        </p>
    </div>
}

@*@code{
    protected async void HandleValidSubmit(EditContext editContext)
    {
        bool formIsValid = editContext.Validate();
        if (formIsValid)
            await RegisterUser(UserForRegister);
    }

    protected void HandleInvalidSubmit(EditContext editContext)
    {

        // StatusClass = "alert-danger";
        //  StatusMessage = DateTime.Now + " Handle invalid submit";
    }

  
}*@
